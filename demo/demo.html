<!DOCTYPE html>
<html>
  <head>
    <title>jquery.formBuilder.js | Demo</title>
    <!-- ==================== External CSS Dependencies ==================== -->
    <!-- Any jquery-ui theme-->
    <link type="text/css" rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/redmond/jquery-ui.css">
    <!-- ==================== bower CSS Dependencies ==================== -->
    <link type="text/css" rel="stylesheet" href="../bower_components/normalize.css/normalize.css">
    <link type="text/css" rel="stylesheet" href="../bower_components/jquery-timepicker-jt/jquery.timepicker.css">
    <link type="text/css" rel="stylesheet" href="../bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.standalone.css">
    <!-- ==================== formBuilder CSS Dependencies ==================== -->
    <link type="text/css" rel="stylesheet" href="../dist/css/formBuilder.css">
    <!-- Display purposes-->
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans">
    <link type="text/css" rel="stylesheet" href="./css/codemirror.css">
    <link type="text/css" rel="stylesheet" href="./css/monokai.css">
    <style type="text/css">
      html, body {
      	font-family: 'Open Sans';
      	background-color: #CEECF5;
      	height: 100%;
      }
      .container {
      	width: 800px;
      	margin-left: auto;
      	margin-right: auto;
      	padding: 2em;
      	background-color: #FFFFFF;
      	height: auto;
      	min-height: 100%;
      }
      .example {
      	display: block;
      	margin-bottom: 1em;
      	margin-left: 1em;
      }
      .CodeMirror {
      	height: auto;
      	margin-top: .5em;
      	margin-bottom: .5em;
      }
      .CodeMirror-scroll {
      	height: auto;
      	overflow-y: hidden;
      	overflow-x: hidden;
      }
      .resultDisplay {
      	width: 100%;
      	min-height: 15em;
      	resize: vertical;
      }
      
      .code {
      	display: block;
      	position: relative;
      	width: 100%;
      }
      .codeTitle {
      	display: block;
      	position: absolute;
      	top: 0px;
      	left: 0px;
      	font-style: italic;
      }
      .codeToggle {
      	display: block;
      	position: relative;
      	margin-left: auto;
      	margin-right: auto;
      }
      
      .sect-title {
      	font-weight: bold;
      	font-size: 1.3em;
      	margin-bottom: .5em;
      	background-color: #B2CAD1;
      	padding: .2em;
      	padding-left: 1em;
      }
      .sect-title:hover {
      	cursor: pointer;
      }
      .sect-title.selected {
      	background-color: #5D85E3;
      	color: white;
      }
      .sect {
      	margin-bottom: 4em;
      	padding-left: 1em;
      	padding-right: 1em;
      }
      h2 {
      	color: #5D85E3;
      	border-bottom-color: #B2CAD1;
      	border-bottom-width: 2px;
      	border-bottom-style: solid;
      	margin-top: 1em;
      }
      .aClass {
      	display: block;
      	background-color: yellow;
      	height: 1em;
      	width: 1em;
      }
      #textSubmitterSubmitBox {
      	position: relative;
      	display: block;
      	margin-bottom: 1em;
      	padding-left: 1em;
      	padding-top: 1.7em;
      	font-size: .8em;
      	width: 400px;
      }
      #textSubmitterSubmitBox .title {
      	position: absolute;
      	font-size: 1.2em;
      	top: 0px;
      	left: 1em;
      	font-weight: bold;
      }
      #textSubmitterSubmitBox .messages {
      	overflow-y: scroll;
      	height: 8.2em;
      	background-color: #E6E6E6;
      	padding: .5em;
      }
      #textSubmitterSubmitBox .messages .message {
      	display: block;
      }
      #textSubmitterSubmitBox .messages .message .submitTime {
      	display: inline-block;
      	padding-right: 5px;
      	color: gray;
      }
      #textSubmitterSubmitBox .messages .message .submitText {
      	display: inline-block;
      }
      
    </style>
  </head>
  <body>
    <div class="container">
      <h1>formBuilder Demo</h1>
      <hr>
      <div data-title="Base Form" class="sect">
        <h2>Applying the formBuilder</h2>
        <p>To initialize a form with formBuilder
          <div data-title="JavaScript" data-mode="javascript" class="code"> $('form').formBuilder();</div>
        </p>
        <p>To keep the form hidden until it is constructed or if it is unsupported, style the form with
          <div data-title="HTML" data-mode="html" class="code">
            <form style="display:none;">
            	....
            </form>
          </div>
        </p>
        <p>Only elements inside of the formBuilder are effected</p>
        <h2>Required Inputs</h2>
        <p>The <i>data-required</i> attribute if set on an input element will prevent form submission if it is not valid
          <div class="example">
            <form id="fb" action="#" style="display:none;">
              <input type="text" data-label="Not Required">
              <input type="text" data-label="Required" data-require="true">
              <button type="submit">Submit Test</button>
            </form>
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <form action='#' style='display:none;'>
            	<input type="text" data-label="Not Required">
            	<input type="text" data-label="Required" data-require="true">
            </form>
          </div>
        </p>
        <p>The <i>data-default-required</i> attribute <b>applied to the form</b> element will set the default data-required state of all nested inputs
          <div class="example">
            <form id="fb" action="#" style="display:none;" data-default-required="true">
              <input type="text" data-label="Required" data-require="true">
              <input type="text" data-label="Still Required">
              <button type="submit">Submit Test</button>
            </form>
          </div>
        </p>
        <p>In order to set the default data-require state for all nested input the attibute 'data-default-required' must be set to true in the parent attribute
          <div data-title="HTML" data-mode="html" class="code">
            <form action="#" style="display:none;" data-default-required="true">
            	<input type="text" data-label="Required" data-require="true">
            	<input type="text" data-label="Still Required">
            </form>
          </div>
        </p>
      </div>
      <div data-title="Field Enhancements" class="sect">
        <h2>Preinput/Postinput</h2>
        <p>The <i>data-preinput</i> attribute adds a block of text before any input
          <div class="example">
            <input type="text" data-preinput="pre">
          </div>
        </p>
        <p>The <i>data-postinput</i> attribute adds a block of text after any input
          <div class="example">
            <input type="text" data-postinput="post">
          </div>
        </p>
        <p>Both can be used at the same time
          <div class="example">
            <input type="text" data-preinput="pre" data-postinput="post">
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <input type="text" data-preinput="pre">
            <input type="text" data-postinput="post">
            <input type="text" data-preinput="pre" data-postinput="post">
          </div>
        </p>
        <h2>Prefix/Suffix</h2>
        <p>Will add text at front/end of form field that can only be visible once the user has begun entering text into the field</p>
        <p>The <i>data-prefix</i>
          <div class="example">
            <input type="text" data-prefix="prefix">
          </div>
        </p>
        <p>The <i>data-suffix</i>
          <div class="example">
            <input type="text" data-suffix="suffix">
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <input type="text" data-prefix="prefix">
            <input type="text" data-suffix="suffix">
          </div>
        </p>
        <h2>Labels</h2>
        <p>The <i>data-label</i> attribute adds text above any input field
          <div class="example">
            <input type="text" data-label="Some Label Text">
          </div>
          <div data-title="HTML" data-mode="html" class="code"> <input type="text" data-label="Some Label Text"></div>
        </p>
        <h2>Placeholder Text</h2>
        <p>The <i>data-empty</i> or <i>data-placeholder</i> attribute will display placeholder text when an input field is empty
          <div class="example">
            <input type="text" data-empty="some text (empty)">
          </div>
          <div class="example">
            <input type="text" data-placeholder="some text (placeholder)">
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <input type="text" data-empty="some text (empty)">
            <input type="text" data-placeholder="some text (placeholder)">
          </div>
        </p>
        <h2>Max</h2>
        <p>the <i>data-max</i> attribute adds a maximum character requirement, enforced while typed
          <div class="example">
            <input type="text" data-label="Maxmum of 10 chars" data-max="10">
          </div>
          <div data-title="HTML" data-mode="html" class="code"><input type="text" data-label="Maxmum of 10 chars" data-max="10"></div>
        </p>
        <h2>Input Groups</h2>
        <p>Use input groups to keep inputs inline
          <div class="example">
            <div class="input-field-group">
              <input type="text" data-label="input 1">
              <input type="text" data-label="input 2">
              <input type="text" data-label="input 3 w/ pre" data-preinput="pre">
              <p>This is done by simply coding each desired input directly after the one before it</p>
            </div>
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <div class='input-field-group'>
            	<input type="text" data-label="input 1">
            	<input type="text" data-label="input 2">
            	<input type="text" data-label="input 3 w/ pre" data-preinput="pre">
            </div>
          </div>
        </p>
        <h2>Tooltip</h2>
        <p>You can add a tooltip box <b>after a form field</b> that will display a hovering widget on-click. You need a div of class <i>tooltip</i> with an optional <i>title</i> attribute
          <div class="example">
            <input type="text">
            <div title="Tooltip Example" class="tooltip">
              <h1>This is a tooltip</h1>
              <p>Paragraph One</p>
              <p>Paragraph Two</p><a href="http://add123.com">Some link somewhere cool</a>
            </div>
          </div>
          <div class="example">
            <input type="text">
            <div class="tooltip">
              <h1>This is a tooltip without a title</h1>
              <p>Paragraph One</p>
              <p>Paragraph Two</p><a href="http://add123.com">Some link somewhere cool</a>
            </div>
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <input type="text">
            <div title="Tooltip Title" class="tooltip">
            	<h1>Tooltip Header</h1>
            	<p>Paragraph One</p>
            	<p>Paragraph Two</p><a href="http://add123.com">Link</a>
            </div>
          </div>
          
        </p>
      </div>
      <div data-title="Data Types" class="sect">
        <h2>Input Types</h2>
        <p>The <i>data-type</i> attribute can be specifed to add content checking
          <div class="example">
            <input type="text" data-label="no data-type"><span>No specified data type, will not throw errors for any input. </span>
          </div>
          <div class="example">
            <input type="text" data-label="tmsFullname" data-type="tmsFullname"><span>Extension of <b>utext</b>. Requires two names separated by a space</span>
          </div>
          <div class="example">
            <input type="text" data-label="utext" data-type="utext"><span>For uppercase text. If a user types in lowercase text, it is automatically converted to uppercase.</span>
          </div>
          <div class="example">
            <input type="text" data-label="integer" data-type="integer"><span>For digits [0-9].</span>
          </div>
          <div class="example">
            <input type="text" data-label="number" data-type="number"><span>For integers or decimal numbers [[0-9].]. </span>
          </div>
          <div class="example">
            <input type="text" data-label="state" data-type="state"><span>For state abbreviations [A-Z].</span>
          </div>
          <div class="example">
            <input type="text" data-label="zip" data-type="zip"><span>For entering 5 digit or 9 digit (with or without '-') zip codes.</span>
          </div>
          <div class="example">
            <input type="text" data-label="email" data-type="email"><span>For email inputs. The correct format is a username, then a single '@', then an alphanumeric domain name, then a single '.', then a alphabetic domain extension 2-4 characters in length. </span>
          </div>
          <div class="example">
            <input type="text" data-label="money: default" data-type="money"><span>For currency inputs. Similar to the number field, but will automatically round to 2 decimal places on blur.</span>
          </div>
          <div class="example">
            <input type="text" data-label="money: custom currency symbol" data-type="money" data-currency-symbol="&amp;pound;">
            <input type="text" data-type="money" data-show-symbol="false"><span>In addition, a box with a '$' (by default) is prepended to the left of the field with a weight of -100. To change the currency symbol, set it with the <b>data-currency-symbol</b> attribute. To not show any currency symbol, set the <b>data-show-symbol</b> attribute to false.</span>
          </div>
          <div class="example">
            <input type="text" data-label="money: max and min attributes" data-type="money" data-max-amount="10.00">
            <input type="text" data-type="money" data-min-amount="10.00">
            <input type="text" data-type="money" data-min-amount="10.00" data-max-amount="100.00"><span>Max and min amounts for money can be set using the <b>data-max-amount</b> and/or the <b>data-min-amount</b>. An error message will be displayed if too large or too small an amount is entered.</span>
          </div>
          <div class="example">
            <input type="text" data-label="phone" data-type="phone"><span>For entering US phone numbers.</span>
          </div>
          <div class="example">
            <input type="text" data-label="tmsPhone" data-type="tmsPhone"><span>Extension of <b>phone</b>. Allows user to choose phone type</span>
          </div>
          <div class="example">
            <input type="text" data-label="date" data-type="date"><span>For entering dates in the 'MM/DD/YYYY' format. A user may manually type the date or click the calendar icon to reveal a jquery ui popup calendar. This icon is inside appended to the right of the field with a weight of 0. </span>
          </div>
          <div class="example">
            <input type="text" data-label="dateTime" data-type="dateTime"><span>For entering dates and times in the 'MM/DD/YYYY h:MM AM/PM format. Works the same way as date, but also checks for a valid time. The calendar picker will set the time to noon.</span>
          </div>
          <div class="example">
            <input type="text" data-label="dateTime" data-type="dateTime" data-military="true"><span>For entering military times, performs in the same way as dateTime except time is 24 hours and does not include AM/PM</span>
          </div>
          <div class="example">
            <input type="text" data-label="display" data-type="display" value="Some value">
            <p> <span>For displaying uneditable values. Displays value attribute where the input field would be. Displayed as html. </span></p>
          </div>
          <div class="example">
            <input type="text" data-label="tmsQuantityUnit" data-type="tmsQuantityUnit"><span>Autocomplete for common units. Any text can be entered, it just suggests some.</span>
          </div>
        </p>
        <h2>Codes</h2>
        <p>The user must type a code in that matches the a value of an object in a defined <i>codeArray</i>. <br>Element attributes <i>data-type='code' data-codes='[yourCodeArrayVariableName]'</i><br>In JS, <b>before the formBuilder is initialized</b>
          <div class="example">
            <input type="text" data-label="code initialized w/ js" data-type="code" data-codes="testCodes">
          </div>
          <div data-title="JavaScript" data-mode="javascript" class="code">
            var yourCodeArrayVariableName = [
            	{"value":"what the user types 1", "label":"what the user sees 1"},
            	{"value":"what the user types 2", "label":"what the user sees 2"},
            									...
            	{"value":"what the user types n-1", "label":"what the user sees n-1"},
            	{"value":"what the user types n", "label":"what the user sees n"}
            ];
          </div>
        </p>
        <h2>Select</h2>
        <p>Normal select tags will still work, but you can also use the formBuilder select input, which works in the same way as the code data-type.
          <div class="example">
            <select data-label="select default without formBuilder">
              <option value="true">Yes</option>
              <option value="false">No</option>
              <option value="1">option 1</option>
              <option value="2">option 2</option>
              <option value="3">option 3</option>
              <option value="4">option 4</option>
              <option value="5">option 5</option>
              <option value="6">option 6</option>
              <option value="7">option 7</option>
              <option value="100">Some label</option>
              <option value="AAA">123 Some St.</option>
              <option value="BBB">Some Business Name Inc.</option>
              <option value="Hodor">Bran</option>
            </select>
          </div>
          <div class="example">
            <input type="text" data-label="formBuilder select" data-type="select" data-options="[							{&quot;value&quot;:&quot;submitted to form&quot;, &quot;label&quot;:&quot;Searched Item&quot;, &quot;showClass&quot;:&quot;aClass&quot;},							{&quot;value&quot;:&quot;true&quot;, &quot;label&quot;:&quot;Yes&quot;},							{&quot;value&quot;:&quot;false&quot;, &quot;label&quot;:&quot;No&quot;},							{&quot;value&quot;:&quot;5&quot;, &quot;label&quot;:&quot;option 1&quot;},							{&quot;value&quot;:&quot;2&quot;, &quot;label&quot;:&quot;option 2&quot;},							{&quot;value&quot;:&quot;3&quot;, &quot;label&quot;:&quot;option 3&quot;},							{&quot;value&quot;:&quot;4&quot;, &quot;label&quot;:&quot;option 4&quot;},							{&quot;value&quot;:&quot;5&quot;, &quot;label&quot;:&quot;option 5&quot;},							{&quot;value&quot;:&quot;100&quot;,  &quot;label&quot;:&quot;Some label&quot;},							{&quot;value&quot;:&quot;AAA&quot;,  &quot;label&quot;:&quot;123 Some St.&quot;},							{&quot;value&quot;:&quot;BBB&quot;,  &quot;label&quot;:&quot;Some Business Name Inc.&quot;},							{&quot;value&quot;:&quot;Hodor&quot;,  &quot;label&quot;:&quot;Bran&quot;}						]">
            <div class="aClass"></div>
          </div>
          <p>The value is what is submitted to the form while the label is what the user can search for. <b>Note:</b> In this example the single quotes should be escaped double quotes.
            <div data-title="HTML" data-mode="html" class="code">
              <input type='text' data-label='formBuilder select' data-type='select' data-options='[
              		{"value":"submitted to form", "label":"Searched Item"},
              		{"value":"true", "label":"Yes"},
              		{"value":"false", "label":"No"},
              		{"value":"1", "label":"option 1"},
              		{"value":"2", "label":"option 2"},
              		{"value":"3", "label":"option 3"},
              		{"value":"4", "label":"option 4"},
              		{"value":"5", "label":"option 5"},
              		{"value":"100",  "label":"Some label"},
              		{"value":"AAA",  "label":"123 Some St."},
              		{"value":"BBB",  "label":"Some Business Name Inc."},
              		{"value":"Hodor",  "label":"Bran"}
              	]'>
            </div>
          </p>
        </p>
        <p>The options in the select may be set with a function</p>
        <div class="example">
          <input id="settableSelect" type="text" data-type="select"><span>Click on the button to cycle the select options.
            <button type="button" name="toggleSelect">Change Options</button></span>
        </div>
        <h3>Other Select-Based Types</h3>
        <div class="example">
          <input type="text" data-label="tmsExpYear" data-type="tmsExpYear"><span>Created with <b>arraySelectCreator(arrayOfOptions)</b>. A select created with an array of options where label == value. This type uses the next 10 years.</span>
        </div>
        <div class="example">
          <input type="text" data-label="tmsYesNo" data-type="tmsYesNo"><span>Created with <b>booleanSelectCreator(trueLabel,falseLabel)</b>. A select created with two options where the trueLabel's value is true and the falseLabel's value is false. Can be used for localization support. With this type, 'Yes' is true and 'No' is false.</span>
          <mark>Add the localization support back to the type</mark>
        </div>
        <h2>Textarea</h2>
        <p>No extra attributes are required. Note, pre/post-inputs will not grow with the area.
          <div class="example">
            <textarea rows="3" data-label="TextArea"></textarea>
          </div>
        </p>
        <h2>Array Field</h2>
        <p>You can use array fields in a formBuilder form to allow variable amounts of the same input-field-group to be submitted.
          <ul>
            <li>Items can be added to the array with the bottom '+' addon.</li>
            <li>Items can be reordered with the left '::' addon.</li>
            <li>Items can be removed from the arrray with the right addon icon.</li>
            <li>The main div must have a name attribute</li>
          </ul>
        </p>
        <p>This is a basic example of an arrayField of an input-field-group containing a utext input.</p>
        <div class="example">
          <div name="arrayFieldExampleSimple" data-load-widget-as-field="arrayField">
            <input type="text" data-type="utext" data-placeholder="a utext input">
          </div>
        </div>
        <div data-mode="html" class="code">
          <div name="arrayFieldExampleSimple" data-load-widget-as-field="arrayField">
          	<input type="text" data-type="utext" data-placeholder="a utext input">
          </div>
        </div>
        <p>By adding more inputs to the arrayField div, you add more inputs to the input-field-group. (this might not actually work)</p>
        <div class="example">
          <div name="arrayFieldExampleMultiple" data-load-widget-as-field="arrayField">
            <input type="text" data-type="utext" data-placeholder="a utext input">
            <input type="text" data-type="date">
          </div>
        </div>
        <p>You can add a message next to the add button using the <b>data-addmessage</b> attribute.</p>
        <div class="example">
          <div name="arrayFieldExampleMessage" data-load-widget-as-field="arrayField" data-addmessage="Some added message">
            <input type="text" data-type="utext">
          </div>
        </div>
        <div data-mode="html" class="code">
          <div name="arrayFieldExampleMessage" data-load-widget-as-field="arrayField" data-addmessage="Some added message">
          	<input type="text" data-type="utext">
          </div>
        </div>
        <p>ArrayFields can have labels like other fields</p>
        <div class="example">
          <div name="arrayFieldExampleLabel" data-load-widget-as-field="arrayField" data-label="Some label">
            <input name="someInput" type="text" data-type="utext">
          </div>
        </div>
        <div data-mode="html" class="code">
          <div name="arrayFieldExampleMessage" data-load-widget-as-field="arrayField" data-label="Some label">
          	<input type="text" data-type="utext">
          </div>
        </div>
        <h2>Text Submitter</h2>
        <p>Text submitter can be used for submitting multiple text messages from the same text area. The textSubmitter widget must be applied manually and does not need to be inside of a form.</p>
        <p>Simple example using defaults:</p>
        <div id="textSubmitterDefault"></div>
        <p>The width, placeholder, rows, and send instruction options may be set.</p>
        <div id="textSubmitterOptions"></div>
        <p>The <b>submit</b> event is fired when a the enter key is pressed. The event passes an object in the format <i>{text:'What the user types in', onComplete: (callback function)}</i>. The onComplete function will reset the textarea. This example has a 200ms submit setTimeout to simulate server lag time. </p>
        <div id="textSubmitterSubmitBox">
          <div class="title">Submitted Messages</div>
          <div class="messages"></div>
        </div>
        <div id="textSubmitterSubmit"></div>
      </div>
      <div data-title="Customization" class="sect">
        <h2>Creating Simple Regex Types</h2>
        <p>You can add your own input types using just regex very easily.
          <div class="example">
            <input type="text" data-label="Custom &quot;swear&quot; type" data-type="swear">
          </div>
          <div class="example">
            <input type="text" data-label="Custom &quot;theLetterF&quot; type" data-type="theLetterF">
          </div>
          <div class="example">
            <input type="text" data-label="Custom &quot;luckySeven&quot; type" data-type="luckySeven">
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <form id='simpleCustomTypeForm' action='#'>
            	<input type='text' data-label='Custom "swear" type' data-type='swear'>
            	<input type='text' data-label='Custom "theLetterF" type' data-type='theLetterF'>
            	<input type='text' data-label='Custom "luckySeven" type' data-type='luckySeven'>
            </form>
          </div>
          <div data-title="JavaScript" data-mode="javascript" class="code">
            $.extend($.add123.inputField.types,{
            	'swear': $.add123.inputField.createRegexType(/^[\!@#\$%\&*]*$/, /[\!@#\$%\&*]/),
            	'theLetterF': $.add123.inputField.createRegexType(/^[fF]*$/, /[fF]/,{
            			toUpper: false
            		}),
            	'luckySeven': $.add123.inputField.createRegexType(/^[7]*$/, /[7]/,{},3)
            });
            $('simpleCustomTypeForm').formBuilder();
          </div>
        </p>
        <h2>Creating Full Custom Types</h2>
        <p>You may also create new types if you provide all the needed base type functions.
          <div class="example">
            <input type="text" data-label="Custom &quot;SSN&quot; type" data-type="SSN">
          </div>
          <div data-title="HTML" data-mode="html" class="code">
            <form id='fullCustomTypeForm' action='#'>
            	<input type='text' data-label='Custom "SSN" type' data-type='SSN'>
            </form>
          </div>
          <div data-title="JavaScript" data-mode="javascript" class="code">
            $.extend($.add123.inputField.types,{
            	'SSN': {
            		setUp: function(ui) {
            			var self = this,
            				e = ui.element;
            
            			//- Set the characters a user can enter
            			e.inputFilter({
            				pattern: /[0-9]/,
            				max: 12
            			});
            
            			//- Replace the input with a formatted input
            			e.on('blur keydown', function(){
            				e.val(self.format(e.val()));
            			});
            		},
            		converter: {
            			toField: function(value, ui) {
            				return this.format(value);
            			},
            			fromField: function(value, ui) {
            				return this.format(value);
            			}
            		},
            		validate: function(ui) {
            			if(!this.format(ui.element.val()).match(/^[0-9]{4}\-[0-9]{2}\-[0-9]{4}$/))
            				return {
            					message: 'invalid'
            				};
            		},
            
            		//- This is an extra function specifically for this type
            		format: function(text) {
            			if(!text)
            				return '';
            
            			//- Remove non-digits
            			text = text.replace(/[^0-9]/g,'');
            			text = text.substring(0, 10);
            
            			//- add correct dashes
            			if(text.length <= 4)
            				return text;
            			else if(text.length <= 6)
            				return text.substring(0,4) + '-' + text.substring(4);
            			else
            				return  text.substring(0,4) + '-' + text.substring(4,6) + '-' + text.substring(6);
            		}
            	} 
            });
            $('fullCustomTypeForm').formBuilder();
          </div>
        </p>
      </div>
      <div data-title="Unsupported" class="sect">
        <h2>Checkboxes</h2>
        <div class="example">
          <input type="checkbox" data-label="Checkbox Test 3">
        </div>
        <h2>Radio Buttons</h2>
        <div class="example">
          <input type="radio" data-label="Radio Test 3">
        </div>
      </div>
      <div data-title="Demo" class="sect">
        <h2>Form</h2>
        <p>To get a feel of how formBuilder is used, try out this simple demo.</p>
        <form id="example" action="#" style="display: none">
          <input type="text" name="name" data-label="Name*" data-require="true">
          <input type="text" name="phoneNumber" data-type="phone" data-label="Phone Number">
          <input type="text" name="email" data-type="email" data-label="Email*" data-require="true">
          <input type="text" name="bestColor" data-type="select" data-label="Which is the best color?" data-default="#0000FF" data-options="[							{&quot;value&quot;:&quot;#FF0000&quot;, &quot;label&quot;:&quot;red&quot;},							{&quot;value&quot;:&quot;#0000FF&quot;, &quot;label&quot;:&quot;blue&quot;},							{&quot;value&quot;:&quot;#00FF00&quot;, &quot;label&quot;:&quot;green&quot;},							{&quot;value&quot;:&quot;#FF9900&quot;, &quot;label&quot;:&quot;orange&quot;},							{&quot;value&quot;:&quot;#FFFF00&quot;, &quot;label&quot;:&quot;yellow&quot;},							{&quot;value&quot;:&quot;#000000&quot;, &quot;label&quot;:&quot;black&quot;},							{&quot;value&quot;:&quot;#FFFFFF&quot;, &quot;label&quot;:&quot;white&quot;},							{&quot;value&quot;:&quot;#CC66CC&quot;, &quot;label&quot;:&quot;purple&quot;},							{&quot;value&quot;:&quot;#808080&quot;, &quot;label&quot;:&quot;gray&quot;}						]">
          <button type="submit">Save</button>
        </form>
        <h2>Results</h2>
        <p><i>Events</i>
          <textarea id="example-events" readonly class="resultDisplay"></textarea><i>Data</i>
          <textarea id="example-data" readonly class="resultDisplay"></textarea>
        </p>
        <h2>Source</h2>
        <p>
          <div data-title="HTML" data-mode="html" class="code">
            <form id="example" action="#" style="display: none">
            	<input type="text" name="name" data-label="Name*" data-require="true">
            	<input type="text" name="phoneNumber" data-type="phone" data-label="Phone Number")>
            	<input type="text" name="email" data-type="email" data-label="Email*" data-require="true">
            	<input type="text" name="bestColor" data-type="select" data-label="Which is the best color?" data-default="#0000FF" data-options='[
            			{"value":"#FF0000", "label":"red"},
            			{"value":"#0000FF", "label":"blue"},
            			{"value":"#00FF00", "label":"green"},
            			{"value":"#FF9900", "label":"orange"},
            			{"value":"#FFFF00", "label":"yellow"},
            			{"value":"#000000", "label":"black"},
            			{"value":"#FFFFFF", "label":"white"},
            			{"value":"#CC66CC", "label":"purple"},
            			{"value":"#808080", "label":"gray"}
            		]'>
            	<button type="submit">Save</button>
            </form>
          </div>
          <div data-title="JavaScript (without result logging)" data-mode="javascript" class="code">
            var formExample = $('form#example:first').formBuilder({
            	beforeset: function(ev) {
            
            	},
            	afterset: function(ev) {
            
            	}
            });
            
            var saveForm = function(data, finish) {
            	// Save data to server
            	$.ajax({
            		url: 'someserver.com',
            		type: 'POST',
            		data: data,
            		success: function(result) {
            			//handle your server result
            			finish();
            		},
            		error: function() {
            			//connection error
            			finish();
            		}
            	});
            };
            
            formExample.find('button[type="submit"]').submitButton({
            	color: '#FF0000',
            	beforesubmit: function(ev) {
            		// Runs any presubmission stuff
            	},
            	
            	submit: function(ev, finish) {								
            		// Run validation
            		if(!formExample.formBuilder('validate')) {
            			// The form is invalid somewhere
            			finish();
            			return;
            		}
            
            		saveForm(formExample.formBuilder('get'), finish);
            	},
            	
            	aftersubmit: function(ev) {
            		// Run any post-submission stuff
            	}
            });
          </div>
          <div data-title="JavaScript (with result logging)" data-mode="javascript" data-hidden="true" class="code">
            var events = $('#example-events');
            var data = $('#example-data');
            var eventNum = 1;
            var logEvent = function(str) {
            	events.val(events.val()+'\n['+(eventNum++)+']  '+str);
            	events.scrollTop(events[0].scrollHeight);
            };
            
            events.val('[0]  Start');
            
            var formExample = $('form#example:first').formBuilder({
            	beforeset: function(ev) {
            		logEvent('beforeset called on formBuilder');
            	},
            	afterset: function(ev) {
            		logEvent('afterset called on formBuilder');
            	}
            });
            
            logEvent('Initialized');
            
            var saveForm = function(data, finish) {
            	// Save data to server (setTimeout is just used in the example to simulate the lag time, use $.ajax instead)
            	setTimeout(function(){
            		// If the server-side save was good, set it back to clean
            		logEvent('server save complete');
            		finish()
            	}, 2000);
            	
            	/* Example server call
            	$.ajax({
            		url: 'someserver.com',
            		type: 'POST',
            		data: data,
            		success: function(result) {
            			//handle your server result
            			finish();
            		},
            		error: function() {
            			//connection error
            			finish();
            		}
            	});
            	*/
            };
            
            formExample.find('button[type="submit"]').submitButton({
            	color: '#FF0000',
            	beforesubmit: function(ev) {
            		// Runs any presubmission stuff
            		logEvent('beforesubmit called');
            		data.val('');
            	},
            	
            	submit: function(ev, finish) {
            		logEvent('submit called');
            		
            
            		// Run validation
            		if(!formExample.formBuilder('validate')) {
            			// The form is invalid somewhere
            			logEvent('has invalid');
            			finish();
            			return;
            		}
            
            		logEvent('all valid');
            
            		var currData = formExample.formBuilder('get');
            		data.val(JSON.stringify(currData,null,2));
            
            		saveForm(currData, finish);
            	},
            	
            	aftersubmit: function(ev) {
            		// Run any post-submission stuff
            		logEvent('aftersubmit called');
            	}
            });
          </div>
        </p>
      </div>
      <div data-title="New Types" class="sect">
        <div class="example">
          <input type="text" data-label="time" data-type="time">
        </div>
        <div class="example">
          <input type="text" data-label="military time" data-type="time" data-military="true">
        </div>
        <div class="example">
          <input type="text" data-label="date" data-type="date">
        </div>
        <div class="example">
          <input type="text" data-label="dateTime" data-type="dateTime">
        </div>
      </div>
    </div>
    <!-- Bower JS Dependencies (using CDNs for demo)-->
    <!-- script(type='text/javascript' src='/bower_components/jquery/jquery.min.js')-->
    <!-- script(type='text/javascript' src='/bower_components/jquery-ui/jquery-ui.min.js')-->
    <!-- script(type='text/javascript' src='/bower_components/moment/min/moment.min.js')-->
    <!-- script(type='text/javascript' src='/bower_components/spinjs/spin.min.js')-->
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.9.2/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js"></script>
    <script type="text/javascript" src="../bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script type="text/javascript" src="../bower_components/jquery-timepicker-jt/jquery.timepicker.min.js"></script>
    <!-- formBuilder Dependencies-->
    <script type="text/javascript" src="../dist/jquery.formBuilder.min.js"></script>
    <!-- Extra for displaying-->
    <script type="text/javascript" src="./js/codemirror.js"></script>
    <script type="text/javascript" src="./js/codemirror-compressed.js"></script>
    <!-- Internal Test JS-->
    <script>
      //- Wrap each example in a form if not already in one
      $('.example').each(function(){
      	if(!$(this).parents('form').length && !$(this).parents('.code').length)
      		$(this).wrap('<form id="fb" action="#" style="display:none;" data-default-required="false">');
      	});
      
      //- Declaring test codes for data-type 'code'
      var testCodes = [ 
      	{"value":"submitted to form", "label":"Searched Item"},
      	{"value":"true", "label":"Yes"},
      	{"value":"false", "label":"No"},
      	{"value":"5", "label":"option 1"},
      	{"value":"2", "label":"option 2"},
      	{"value":"3", "label":"option 3"},
      	{"value":"4", "label":"option 4"},
      	{"value":"5", "label":"option 5"},
      	{"value":"100",  "label":"Some label"},
      	{"value":"AAA",  "label":"123 Some St."},
      	{"value":"BBB",  "label":"Some Business Name Inc."},
      	{"value":"Hodor",  "label":"Bran"}
      ];
      
      //- Adding simple regex types
      $.extend($.add123.inputField.types,{
      	'swear': $.add123.inputField.createRegexType(/^[\!@#\$%\&*]*$/, /[\!@#\$%\&*]/),
      	'theLetterF': $.add123.inputField.createRegexType(/^[fF]*$/, /[fF]/,{
      			toUpper: false
      		}),
      	'luckySeven': $.add123.inputField.createRegexType(/^[7]*$/, /[7]/,{},3)
      });
      
      //- Adding full custom types
      $.extend($.add123.inputField.types,{
      	'SSN': {
      		setUp: function(ui) {
      			var self = this,
      				e = ui.element;
      
      			//- Set the characters a user can enter
      			e.inputFilter({
      				pattern: /[0-9]/,
      				max: 12
      			});
      
      			//- Replace the input with a formatted input
      			e.on('blur keydown', function(){
      				e.val(self.format(e.val()));
      			});
      		},
      		converter: {
      			toField: function(value, ui) {
      				return this.format(value);
      			},
      			fromField: function(value, ui) {
      				return this.format(value);
      			}
      		},
      		validate: function(ui) {
      			if(!this.format(ui.element.val()).match(/^[0-9]{4}\-[0-9]{2}\-[0-9]{4}$/))
      				return {
      					message: 'invalid'
      				};
      		},
      
      		//- This is an extra function specifically for this type
      		format: function(text) {
      			if(!text)
      				return '';
      
      			//- Remove non-digits
      			text = text.replace(/[^0-9]/g,'');
      			text = text.substring(0, 10);
      
      			//- add correct dashes
      			if(text.length <= 4)
      				return text;
      			else if(text.length <= 6)
      				return text.substring(0,4) + '-' + text.substring(4);
      			else
      				return  text.substring(0,4) + '-' + text.substring(4,6) + '-' + text.substring(6);
      		}
      	} 
      });
      
      
      
      var f = $('form#fb').formBuilder();
      f.find('button[type="submit"]').submitButton({
      	beforesubmit: function(ev) {
      		console.log('before');
      	},
      	submit: function(ev, finish) {
      		console.log('submit');
      
      		var pForm = $(this).closest('form');
      
      		pForm.formBuilder('validate');
      		console.log('Form dirty? ' + pForm.formBuilder('isDirty'));
      		console.log(pForm.formBuilder('conflicts'));
      		//- console.log(f.formBuilder('get'));
      
      		finish();
      	},
      	aftersubmit: function(ev) {
      		console.log('after');
      	}
      	});
      
      //- Example form
      var events = $('#example-events');
      var data = $('#example-data');
      var eventNum = 1;
      var logEvent = function(str) {
      	events.val(events.val()+'\n['+(eventNum++)+']  '+str);
      	events.scrollTop(events[0].scrollHeight);
      };
      
      events.val('[0]  Start');
      
      var formExample = $('form#example:first').formBuilder({
      	beforeset: function(ev) {
      		logEvent('beforeset called on formBuilder');
      	},
      	afterset: function(ev) {
      		logEvent('afterset called on formBuilder');
      	}
      });
      
      logEvent('Initialized');
      
      var saveForm = function(data, finish) {
      	// Save data to server (setTimeout is just used in the example to simulate the lag time, use $.ajax instead)
      	setTimeout(function(){
      		// If the server-side save was good, set it back to clean
      		logEvent('server save complete');
      		finish()
      	}, 2000);
      	
      	/* Example server call
      	$.ajax({
      		url: 'someserver.com',
      		type: 'POST',
      		data: data,
      		success: function(result) {
      			//handle your server result
      			finish();
      		},
      		error: function() {
      			//connection error
      			finish();
      		}
      	});
      	*/
      };
      
      /**
       * SettableSelect Handling
       */
      var optionSetChanged = false;
      var sOptionsOne = [
      	{value:"true",	label:"Yes"},
      	{value:"false",	label:"No"},
      	{value:"5",		label:"option 1"},
      	{value:"2",		label:"option 2"},
      	{value:"3",		label:"option 3"},
      	{value:"4",		label:"option 4"},
      	{value:"5",		label:"option 5"},
      	{value:"100",	label:"Some label"},
      	{value:"AAA",	label:"123 Some St."},
      	{value:"BBB",	label:"Some Business Name Inc."},
      	{value:"Hodor",	label:"Bran"}
      ];
      
      var sOptionsTwo = [
      	{value:"some",	label:"Different Option"},
      	{value:"value",	label:"Different Source"},
      	{value:"here",	label:"Settable with function"},
      ];
      
      var sts = $('input#settableSelect[data-type="select"]');
      sts.inputField('getType').setOptions(sOptionsOne);
      $('button[name="toggleSelect"]').click(function(){
      	sts.inputField('getType')
      		.setOptions(optionSetChanged? sOptionsOne : sOptionsTwo);
      
      	optionSetChanged = !optionSetChanged;
      });
      
      formExample.find('button[type="submit"]').submitButton({
      	color: '#FF0000',
      	beforesubmit: function(ev) {
      		// Runs any presubmission stuff
      		logEvent('beforesubmit called');
      		data.val('');
      	},
      	
      	submit: function(ev, finish) {
      		logEvent('submit called');
      		
      
      		// Run validation
      		if(!formExample.formBuilder('validate')) {
      			// The form is invalid somewhere
      			logEvent('has invalid');
      			finish();
      			return;
      		}
      
      		logEvent('all valid');
      
      		var currData = formExample.formBuilder('get');
      		data.val(JSON.stringify(currData,null,2));
      
      		saveForm(currData, finish);
      	},
      	
      	aftersubmit: function(ev) {
      		// Run any post-submission stuff
      		logEvent('aftersubmit called');
      	}
      });
      
      $('.aClass').hide();
      
      
      /**
       * testSubmitter setup
       */
      $('#textSubmitterStandalone').textSubmitter();
      $('#textSubmitterDefault').textSubmitter();
      
      var messages = $('#textSubmitterSubmitBox .messages');
      $('#textSubmitterSubmit').textSubmitter({
      	width: messages.outerWidth() + 15,
      	rows: 1,
      	placeholder: 'Type a message!',
      	ignoreEmptySubmit: true,
      	submit: function(ev, data){
      		setTimeout(function(){
      			data.text = data.text.trim();
      			if(data.text) {
      				messages.append('<div class="message"><span class="submitTime">['+moment().format('HH:mm:ss')+']</span><span class="submitText">"'+data.text+'"</span></div>');
      				messages.scrollTop(messages[0].scrollHeight);
      				data.onComplete(true);
      			} else {
      				data.onComplete(false);
      			}
      		}, 200);
      		
      	}
      });
      $('#textSubmitterOptions').textSubmitter({
      	width: '600px',
      	placeholder: 'Some placeholder',
      	sendInstruction: 'Some sendInstruction',
      	rows: 2
      });
      
      // ================= DEMO DISPLAY CODE BELOW ===================
      
      //- Handle code snippets
      $('.code').each(function(){
      	//- get code snippet
      	var snippet =  $(this).html().substring(1);
      	
      	//get initial spacing char amount
      	var initialSpacing = 0;
      	for(var i = 0; i < snippet.length && (snippet[i].match(/[\s\t]/)); ++i)
      		++initialSpacing;
      
      	//removes initial spacing chars in line
      	removeSpacing = function(lineStart) {
      		var stopIndex = lineStart;
      		for(var i = lineStart; i < snippet.length && (stopIndex - lineStart) < initialSpacing && snippet[i].match(/\s/); ++i)
      			++stopIndex;
      
      		//- console.log('Blocked by "' + snippet[i] + '" and cut "' + snippet.substring(lineStart, stopIndex) + '"');
      
      		snippet = snippet.substring(0,lineStart) + snippet.substring(stopIndex);
      	};
      
      	//remove for all lines
      	removeSpacing(0);
      	for(var i = 0; i < snippet.length; ++i)
      		if(snippet[i].match(/[\n\r]/) && (i+1) < snippet.length)
      			removeSpacing(i+1);
      
      	//- Fix special html chars
      	snippet = snippet.replace(/&quot;/g, "'");
      	snippet = snippet.replace(/&amp;/g, "&");
      
      	//- Add codemirror obj
      	$(this).empty(); 
      	var cm = {
      		value: snippet,
      		mode: $(this).data('mode'),
      		indentWithTabs: false,
      		lineNumbers: true,
      		theme: 'monokai',
      		readOnly: true
      	};
      	if(cm.mode === 'html') {
      		cm.mode = 'xml';
      		cm.htmlMode = true;
      	}
      	var newCodeMirror = CodeMirror(this, cm);
      
      	//- Add toggle button
      	$(this).prepend('<button class="codeToggle">Toggle Source</button>');
      	$(this).prepend('<div class="codeTitle">'+$(this).data('title')+'</div>');
      
      	if($(this).data('hidden')) {
      		$(this).find('.CodeMirror:first').hide();
      	}
      });
      
      $('.codeToggle').click(function(ev){
      	$(this).next().slideToggle(100);
      });
      
      
      
      //- Setup demo sections
      var sections = $('.sect');
      sections.wrap('<div class="sect-container"></div>');
      sections.each(function(i, section){
      	$(section).parent().prepend('<div class="sect-title">'+$(section).data('title')+'<div>');
      });
      
      $('.sect-title').click(function(){
      	$(this).next().slideToggle(100);
      	$(this).toggleClass('selected');
      });
      
      $('.sect').toggle(false);
    </script>
  </body>
</html>