!function(e){"use strict";e.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],daysShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",clear:"Borre",rtl:!1}}(jQuery),function(e){"use strict";e.widget("add123.spin",{options:{lines:10,length:4,width:2,radius:3,rotate:0,color:"#000",speed:1.5,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:0,top:"0",left:"0"},_spinner:void 0,_create:function(){var e=this;e._spinner=new Spinner(e.options)},_init:function(){this.start()},start:function(){this._spinner.spin(this.element[0])},stop:function(){this._spinner.stop()},_destroy:function(){var e=this;e.stop(),delete e._spinner}})}(jQuery),"undefined"==typeof window.util&&(window.util={}),function(e){"use strict";"undefined"==typeof window.console&&(window.console={log:function(){},dir:function(){},timeStamp:function(){},time:function(){},timeEnd:function(){}}),"undefined"==typeof console.timeStamp&&(console.timeStamp=function(){}),"undefined"==typeof console.time&&(console.time=function(){}),"undefined"==typeof console.timeEnd&&(console.timeEnd=function(){}),"undefined"==typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});"undefined"==typeof util.lang&&(util.lang={}),"undefined"==typeof util.lang.code&&(util.lang.code="en"),"undefined"==typeof util.selectPath&&(util.selectPath=function(t,i){if(void 0!==t){if(void 0===i||""===i)return t;var n,r=i.toString().split(".");for(n=0;n<r.length;n+=1){var a=r[n];if(a.match(/^[0-9]{1,3}$/)&&(a=parseInt(a,10)),0!==a||e.isArray(t)){if(void 0===t||null===t)return void 0;if(t=t[a],n===r.length-1||void 0===t)return t}}}}),"undefined"==typeof util.insertPath&&(util.insertPath=function(e,t,i){var n,r,a,o=t.split("."),s=e,l=[];for(n=0;n<o.length;n+=1)r=o[n],n===o.length-1?r.match(/^[0-9]{1,3}$/)?(l[l.length-1]={k:l[l.length-1].k,v:[]},l.push({k:parseInt(r,10),v:i})):l.push({k:r,v:i}):r.match(/^[0-9]{1,3}$/)?(l[l.length-1]={k:l[l.length-1].k,v:[]},l.push({k:parseInt(r,10),v:{}})):l.push({k:r,v:{}});for(n=0;n<l.length;n+=1)a=l[n],r=a.k,n===o.length-1?e[r]=a.v:("undefined"==typeof e[r]&&(e[r]=a.v),e=e[r]);return s}),"undefined"==typeof util.deletePath&&(util.deletePath=function(e,t){var i,n=t.split(".");for(i=0;i<n.length;i+=1)if(i===n.length-1)delete e[n[i]];else{if("undefined"==typeof e[n[i]])return;e=e[n[i]]}}),"undefined"==typeof e.fn.childOf&&(e.fn.childOf=function(e,t){var i;if(e instanceof jQuery&&(e=e[0]),t&&e===this[0])return!0;var n=this.parents();for(i=0;i<n.length;i++)if(e===n[i])return!0;return!1}),"undefined"==typeof window.isEmpty&&(window.isEmpty=function(e){return 0===e?!1:!e}),"undefined"==typeof util.equals&&(util.equals=function(e,t){var i;if(e===t)return!0;if(window.isEmpty(e)&&window.isEmpty(t))return!0;if(window.isEmpty(e)||window.isEmpty(t))return!1;switch(typeof e){case"object":for(i in e)if(e.hasOwnProperty(i)&&!util.equals(e[i],t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!util.equals(e[i],t[i]))return!1;break;case"function":if("undefined"==typeof t||e.toString()!==t.toString())return!1;break;default:if(e.toString()!==t.toString())return!1}return!0}),"undefined"==typeof util.removeEqual&&(util.removeEqual=function(t,i,n){var r,a,o;if(n||(n=[]),void 0!==t&&void 0!==i)switch(typeof t){case"object":a=!0;for(r in t)t.hasOwnProperty(r)&&(o=e.inArray(r,n)>-1?!0:util.removeEqual(t[r],i[r]),o&&(delete t[r],delete i[r]),a=a&&o);return a;default:return t.toString()===i.toString()}})}(jQuery),function(e){"use strict";e.fn.caret=function(t,i){if(0===this.length)return this;var n,r=this[0];if("number"!=typeof t){if(!e(r).is(":visible")){var a=e(r).val().length;return{begin:a,end:a}}return r.setSelectionRange?(t=r.selectionStart,i=r.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=-n.duplicate().moveStart("character",-1e5),i=t+n.text.length),{begin:t,end:i}}if(!e(r).is(":visible"))return r;if(i="number"==typeof i?i:t,r.setSelectionRange){r.focus(),r.setSelectionRange(t,i);try{i===r.value.length&&(r.scrollLeft=9999999999)}catch(o){}}else r.createTextRange&&(n=r.createTextRange(),n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select());return r}}(jQuery),function(e){"use strict";e.widget("add123.formBuilder",{options:{converter:{fromForm:function(e){return e},toForm:function(e){return e}},ignoreHidden:!1},_create:function(){var t=this,i=t.options,n=t.element;t.baseData={},i.defaultRequired=n.data("default-required"),t.fieldsWidgets=e([]),t.fields=e([]),t.scanForNewFields(),t.dirty=!1,n.on("dirty",function(e){return t.dirty?void e.stopPropagation():void(t.dirty=!0)}).on("clean",function(e){return t.dirty?(t.dirty=t.isDirty(),void(t.dirty&&e.stopPropagation())):void e.stopPropagation()}),n.show()},scanForNewFields:function(){var t=this,i=t.options,n=t.element;n.find("[data-load-widget-as-field]").each(function(){var i=e(this);if(!i.attr("name"))throw new Error("data-load-widget-as-field must have name attribute");if(!t.fieldsWidgets.has(i[0]).length){i[i.attr("data-load-widget-as-field")](),t.fieldsWidgets=t.fieldsWidgets.add(i);var n=i.attr("data-label");n&&i.addClass("field-items").wrap('<div class="input-field-group"><div class="input-field"></div></div>').before("<label>"+n+"</label>")}}),n.find("input[type!=submit], select, textarea").not(":add123-inputField").not(".form-builder-ignore *").each(function(){var n=e(this);n.is("[data-load-widget-as-field]")||n.parents("[data-load-widget-as-field]").length||(n.inputField({require:!!i.defaultRequired}),t.fields=t.fields.add(n))}),n.find(".input-field-group").each(function(){e(this).find(".field-item:first").addClass("first")})},_proxyCommandToWidget:function(e){var t=e.data("load-widget-as-field")||"inputField",i=e.data(t),n=Array.prototype.splice.call(arguments,1,1),r=Array.prototype.slice.call(arguments,1);try{return i[n].apply(i,r)}catch(a){throw new Error("ERROR: widget field error NAME["+t+"] METHOD["+n+"]")}},isDirty:function(){var t=this,i=!1;return t.fields.each(function(){return i=!!e(this).inputField("isDirty"),!i}),i?i:(t.fieldsWidgets.each(function(){return i=!!t._proxyCommandToWidget(e(this),"isDirty"),!i}),i)},clearDirty:function(){var t=this;t.dirty=!1,t.fields.each(function(){e(this).inputField("clearDirty")}),t.fieldsWidgets.each(function(){t._proxyCommandToWidget(e(this),"clearDirty")})},flashDirty:function(e){},flashError:function(t){this.fields.filter(function(){return e(this).data("inputField").options.error}).inputField("flash",t)},disable:function(){this.fields.inputField("status","disable",!0)},enable:function(){this.fields.inputField("status","disable",!1)},get:function(){var t=this,i=t.options,n=t._readDataFromDom();return e.isFunction(i.converter.fromForm)&&(n=i.converter.fromForm(n)),n||(n={}),n},clear:function(){{var t=this;t.options}t.baseData={},t.fields.each(function(){e(this).inputField("clear")}),t.fieldsWidgets.each(function(){t._proxyCommandToWidget(e(this),"clear")})},conflicts:function(t,i){var n=this,r=n._convertFormData(t),a=[];if(n.isDirty()){var o=e.extend(!0,{},n.baseData),s=e.extend(!0,{},r);return console.log("aData",o),console.log("bData",s),util.removeEqual(o,s,i),console.log("changes from base:",o),n.fields.each(function(){var t=e(this).inputField("conflicts",r);t&&a.push(t)}),n.fieldsWidgets.each(function(){var t=n._proxyCommandToWidget(e(this),"conflicts",r);t&&(e.isArray(t)?a.concat(t):a.push(t))}),a.length?a:!1}},set:function(e,t){var i=this,n=i._convertFormData(e);i.baseData=n,i._trigger("beforeset",null,n),i._writeDataToDom(n,t),i._trigger("afterset",null,n)},_convertFormData:function(t){var i=this,n=i.options,r=e.extend(!0,{},t||{});return e.isFunction(n.converter.toForm)&&(r=n.converter.toForm(r)),r},val:function(e){return void 0===e?{}:this},validate:function(){var t=this,i=(t.options,!0);return t.fields.each(function(){var t=e(this);t.is(":visible")&&t.inputField("validate")===!1&&(i=!1)}),t.fieldsWidgets.each(function(){var n=e(this);n.is(":visible")&&t._proxyCommandToWidget(n,"validate")===!1&&(i=!1)}),i},_destroy:function(){var t=this;t.fields.inputField("destroy"),t.fieldsWidgets.each(function(){t._proxyCommandToWidget(e(this),"destroy")})},getFields:function(){return this.fields},_writeDataToDom:function(t,i){{var n=this;n.options}n.fields.each(function(){e(this).inputField("set",util.selectPath(t,e(this).attr("name")),i)}),n.fieldsWidgets.each(function(){n._proxyCommandToWidget(e(this),"set",util.selectPath(t,e(this).attr("name")),i)})},_readDataFromDom:function(){var t=this,i=t.options.ignoreHidden,n={};return t.fields.each(function(){var t=e(this);if(!i||t.is(":visible")){var r=t.inputField("get");e.isArray(r)&&(r=r[0]),util.insertPath(n,t.attr("name"),r)}}),t.fieldsWidgets.each(function(){var i=e(this),r=t.options.ignoreHidden;if(!r||i.is(":visible")){var a=t._proxyCommandToWidget(i,"get");util.insertPath(n,i.attr("name"),a)}}),n}})}(jQuery),function(e){"use strict";var t=function(e,i,n,r){r=r||0,n>r&&(e(),setTimeout(function(){t(e,i,n,r+1)},i))},i=["require","disable","error","hover","warn","focus"],n=function(t,i){var n=this;e.each(i,function(e,i){var r=n.element.data(i);void 0!==r&&null!==r&&(t[i]=r)})};e.widget("add123.fieldWidget",{isDirty:function(){return!1},validate:function(){return!0},clearDirty:function(){},clear:function(){this.set()},flash:function(){},set:function(e){},get:function(){return null}}),e.widget("add123.inputField",{options:{type:"text",label:"",require:"",placeholder:"",min:"",max:""},_create:function(){var t=this,i=t.options,r=t.element;if(!r.is("input[type!=submit], select, textarea"))throw new Error("invalid element");t.dirty=!1,n.call(t,i,["require","empty","placeholder","type","label","min","max","preinput","postinput","suffix","prefix"]),!i.placeholder&&i.empty&&(i.placeholder=i.empty);var a,o=r.next();(o.is("div.form-input-tooltip")||o.is("div.tooltip"))&&(a=o);var s=t.field=e('<div class="input-field"><div class="field-items"><span class="field-item field-item-input"></span></div></div>'),l=t.layers={items:s.find(".field-items"),input:s.find(".field-item-input")};if(i.label&&t.setLabel(i.label),r.before(s).appendTo(l.input),s.attr("class",e.trim(s.attr("class")+" "+r.attr("class"))),r.removeAttr("class"),r.is("textarea")&&(s.addClass("textarea-fix"),r.wrap('<div class="textarea-wrapper"></div>')),r.is("select")&&s.addClass("select-fix"),s.parents(".input-field-group").length||(s.wrap('<div class="input-field-group"/>'),s.find(".field-item:first").addClass("first")),i.placeholder&&t.placeholder(i.placeholder),i.preinput&&t.addOn(-1,i.preinput),i.postinput&&t.addOn(1,i.postinput),i.suffix&&t.setSuffix(i.suffix),i.prefix&&t.setPrefix(i.prefix),a){var d=t.addOn(1e3,'<span class="tooltip noselect">?</span>',"clickable");s.addClass("has-tooltip"),a.popOver({target:d,onShow:function(){d.addClass("open")},onHide:function(){d.removeClass("open")}}).on("click",function(){r.focus()}),a.popOver("hide"),d.on("click",function(){a.popOver("toggle")})}l.input.on("mousedown.inputField",function(){e("body").one("mouseup.inputField",function(){r.focus()})}),t.autoValidate="blur",t.states={},t.updateStatus("require",i.require,!1),r.focus(function(){t.status("focus",!0)}).blur(function(e){t.status("focus",!1),t._onBlur(e)}).change(function(e){t._onKeyup(e)}).on("inputfilterkeyignored.inputField",function(){t.flash()}).on("inputfilterkeytyped.inputField",function(){t.suffixShim&&t.suffixShim.text(t.element.val())}).on("keyup",function(e){t._onKeyup(e)}).on("keydown",function(e){t._onKeydown(e)}),s.mouseenter(function(){t.status("hover",!0)}).mouseleave(function(){t.status("hover",!1)}),t.setType(i.type),t.prevValue=r.val(),i.max&&t.setMax(i.max)},setLabel:function(t){var i=this,n=i.field;i.label||(i.label=e("<label>"+t+"</label>"),i.label.prependTo(n)),i.label.html(t)},setSuffix:function(t){var i=this,n=i.layers;n.suffix?n.suffix.find(".value").text(t):(n.suffix=e('<div class="suffix-overlay"><div class="shim"></div><span class="value noselect">'+t+"</span></div>").prependTo(n.items),i.suffixShim=n.suffix.find(".shim"))},setPrefix:function(t){var i=this,n=i.layers;n.prefix?i.layers.prefix.find(".value").text(t):n.prefix=e('<div class="prefix-overlay noselect">'+t+"</div>").prependTo(n.items)},setMax:function(e){var t=this,i=t.element;i.is(":add123-inputFilter")?i.inputFilter("setMax",e):i.inputFilter({toUpper:!1,max:e,pattern:/./})},_onKeydown:function(e){var t=this;t._showLayer("placeholder",!1)},_onKeyup:function(e){var t=this;"keyup"===t.autoValidate&&setTimeout(function(){t.validate(!0)},0),t.checkDirty(),t.redraw()},checkDirty:function(){var t,i=this,n=i.element;i.dirty?(i.cleanCheckTimer&&clearTimeout(i.cleanCheckTimer),i.cleanCheckTimer=setTimeout(function(){var t=i.prevValue,r=i.get();0===t||t&&!e.isEmptyObject(t)||(t=""),0===r||r&&!e.isEmptyObject(r)||(r=""),util.equals(t,r)&&(i.dirty=!1,n.trigger("clean"),i.redraw())},300)):(t=i.get(),util.equals(i.prevValue,t)||"undefined"==typeof i.prevValue&&""===t||(n.trigger("dirty"),i.dirty=!0))},isDirty:function(){return this.dirty},_onBlur:function(e){var t=this;"blur"===t.autoValidate&&setTimeout(function(){t.validate(!0)},0)},addOn:function(t,i,n){var r=this,a=r.layers;"number"!=typeof t&&(t=0);var o=e('<span data-weight="'+t+'" class="field-item addon">'+i+"</span>");n&&o.addClass(n);var s=!0,l=!1;return a.items.children().each(function(){var i=e(this);if(i.hasClass("field-item-input"))return void(s=!1);var n=i.data("weight");return"number"!=typeof n&&(n=0),s&&0>t&&n>=t?(o.insertBefore(i),l=!0,a.items.find(".field-item.first").not(":first").removeClass("first"),a.items.find(".field-item").filter(":first").addClass("first"),!1):!s&&t>=0&&n>=t?(o.insertBefore(i),l=!0,!1):void 0}),!l&&0>t?(a.items.find(".field-item-input").before(o),a.items.find(".field-item.first").not(":first").removeClass("first"),a.items.find(".field-item").filter(":first").addClass("first")):l||a.items.append(o),o},placeholder:function(t){var i=this,n=i.layers;n.placeholder||(n.placeholder=e('<div class="placeholder noselect"></div>').hide().appendTo(n.input)),n.placeholder.text(t)},_init:function(){var e=this;e.set(e.element.attr("value"))},clear:function(){var t=this,i=t.type;t.clearDirty(),i&&e.isFunction(i.clear)?i.clear.call(i,t):(t.prevValue="",t.set(""))},clearDirty:function(){var e=this;e.cleanCheckTimer&&clearTimeout(e.cleanCheckTimer),e.dirty=!1,e.field.removeClass("dirty"),e.element.trigger("clean")},conflicts:function(e){var t=this;return t.dirty?{key:t.element.attr("name"),vOld:t.prevValue,vNew:e,vDirty:t.get()}:null},set:function(t,i){var n=this,r=n.element;i=e.extend({autoClean:!0},i),i.autoClean&&(n.prevValue=t,n.clearDirty()),n.hasStatus("error")&&n.status("error",!1,!1);var a=n._formatToField(t);"undefined"!=typeof a&&r.val(a);var o=r.data("inputFilter");o&&o._clean(),n._trigger("afterset",null,[a,t]),setTimeout(function(){n.redraw()},0)},get:function(){var e=this,t=e.element;return e._formatFromField(t.val())},value:function(e){var t=this;return void 0===e?t.get():t.set(e)},isEmpty:function(){var t=this,i=t.type;return e.isFunction(i.isEmpty)?i.isEmpty.call(i,t):""===e.trim(t.element.val())},validate:function(t){var i=this,n=i.states,r=i.type,a=i.isEmpty();if(!t&&n.require&&a)return i.setError({message:"required"}),!1;if(a)return i.clearError(),!0;if(e.isFunction(i.format)&&i.format.call(i),e.isFunction(r.validate)){var o=r.validate.call(r,i);return"undefined"==typeof o?(i.clearError(),!0):(i.setError(o),!1)}return i.clearError(),!0},flash:function(e){{var i=this;i.options}t(function(){i.field.addClass("flash"),i.flashTimer=setTimeout(function(){i.field.removeClass("flash")},150)},150,e||1)},setError:function(t){var i=this,n=(i.states.error,i.layers);return void 0===t?void i.clearError():(n.error||(n.error=e('<div class="error-overlay noselect"></div>').appendTo(n.input)),n.error.text(t.message),i.status("error",!0),void(i.autoValidate="keyup"))},clearError:function(){var e=this;e.states.error&&(e.autoValidate="blur",e.status("error",!1))},_formatToField:function(t){var i=this,n=i.type;return null===t||void 0===t?t:n&&n.converter&&e.isFunction(n.converter.toField)?n.converter.toField.call(n,t,i):t},_formatFromField:function(t){var i=this,n=i.type;return n&&n.converter&&e.isFunction(n.converter.fromField)?n.converter.fromField.call(n,t,i):t},redraw:function(){var e=this,t=e.element,i=(e.options,!!e.element.val()),n=!1,r=!0,a=!0,o=e.layers;if(i&&(a=!1),e.suffixShim&&!a&&e.suffixShim.text(t.val()),o.prefix&&(a?(t.css({paddingLeft:e.startPaddingLeft,width:e.startInputWidth+"px"}),e.prefixPaddingAdded=!1):e.prefixPaddingAdded||(e.startInputWidth=t.width(),e.startPaddingLeft=t.css("padding-left").replace("[^0-9]",""),e.startPaddingLeft=isNaN(e.startPaddingLeft)?5:parseInt(e.startPaddingLeft,10),t.css({paddingLeft:e.startPaddingLeft+o.prefix.outerWidth()+"px",width:e.startInputWidth-o.prefix.outerWidth()+"px"}),e.prefixPaddingAdded=!0)),o.suffix)if(a)t.css({paddingRight:e.startPaddingRight,width:e.startInputWidth+"px"}),e.suffixPaddingAdded=!1;else if(!e.suffixPaddingAdded){var s=o.suffix.find(".value").outerWidth();e.startInputWidth=t.width(),e.startPaddingRight=t.css("padding-right").replace("[^0-9]",""),e.startPaddingRight=isNaN(e.startPaddingRight)?0:parseInt(e.startPaddingRight,10),t.css({paddingRight:e.startPaddingRight+s+"px",width:e.startInputWidth-s+"px"}),e.suffixShim.css({maxWidth:e.startInputWidth-s+"px"}),e.suffixPaddingAdded=!0}e.states.error&&(r=!1,n=!0),e.dirty?e.field.addClass("dirty"):e.field.removeClass("dirty"),e._showLayer("error",n),e._showLayer("notice",r),e._showLayer("placeholder",a),e._showLayer("suffix",!a),e._showLayer("prefix",!a)},_showLayer:function(e,t){var i=this,n=i.element;if(i.layers[e])if(t){if("suffix"===e?i.layers[e].css("visibility","visible"):i.layers[e].show(),"placeholder"===e&&n.width()>0)for(var r=i.layers[e];r.outerWidth(!0)>n.width()&&parseFloat(r.css("font-size"),10)>=8;)r.css("font-size","-=1.0")}else"suffix"===e?i.layers[e].css("visibility","hidden"):i.layers[e].hide()},setType:function(t){var i=this,n=e.add123.inputField.types,r=i.type;r&&e.isFunction(r.tearDown)&&r.tearDown().call(r,i),t&&n[t]||(t="text"),r=Object.create(n[t]),e.isFunction(r.setUp)&&r.setUp.call(r,i),i.type=r},getType:function(){return this.type},hide:function(){this.field.hide()},show:function(e){e?this.field.css("display",e):this.field.show()},getField:function(){return this.field},enable:function(){this.status("disable",!1)},disable:function(){this.status("disable",!0)},isDisabled:function(){return this.hasStatus("disable")},status:function(t,n,r){{var a=this;a.options}if(!(e.inArray(t,i)<0)){var o=!!n,s=a.states;if(o!==s[t]){s[t]=o,a.redraw(),s[t]?a.field.addClass(t):a.field.removeClass(t);var l=a.layers;"disable"===t&&(l.disable||(l.disable=e('<div class="disable-overlay"></div>').appendTo(l.items)),o?l.disable.css({width:l.items.outerWidth()-2+"px",height:l.items.outerHeight()-2+"px"}).show():l.disable.hide()),r!==!1&&a._trigger("statusUpdate",null,{statusName:t,value:s[t]})}}},updateStatus:function(e,t,i){this.status(e,t,i)},hasStatus:function(e){return!!this.states[e]},_destroy:function(){var e=this;e.type&&e.type.tearDown&&e.type.tearDown.call(e.type,e)}}),e.add123.inputField.types={setUp:function(e){},tearDown:function(e){},converter:{toField:function(e,t){return e},fromField:function(e,t){return e}},validate:function(e){return{message:"Demo Error"}}}}(jQuery),function(e){"use strict";e.widget("add123.inputFilter",{options:{toUpper:!1,max:0,pattern:/[\w\s]/},_create:function(){var t,i=this,n=i.element;if(i.nativeChange=!1,!n.is("input[type=text], textarea"))throw new Error("inputFilter must be applied to a text input ");n.on("keydown.inputFilter",e.proxy(this._onKeyDown,i)),n.on("keypress.inputFilter",e.proxy(this._onKeyPress,i)),n.on("paste.inputFilter",e.proxy(this._onPaste,i)),n.on("focus.inputFilter",function(){t=n.val()}),n.on("blur.inputFilter",function(){i.nativeChange||t===n.val()||n.change(),i.nativeChange=!1})},setMax:function(e){this.options.max=e},setPattern:function(e){this.options.pattern=e},_onPaste:function(t){setTimeout(e.proxy(this._clean,this),0)},_onKeyDown:function(e){(e.which<32||e.which>126||e.ctrlKey)&&(this.nativeChange=!0)},_onKeyPress:function(e){var t=this;return e.which<32||e.which>126||e.ctrlKey?!0:(t._type(String.fromCharCode(e.which)),!1)},_clean:function(){var t=this.element.val();this.element.val(""),e.each(t.split(""),e.proxy(function(e,t){this._type(t)},this))},_type:function(e){var t,i,n=this,r=n.options,a=n.element,o=a.val(),s="keytyped",l="keyignored";if(r.toUpper&&(e=e.toUpperCase()),e.match(r.pattern)){if(a.is(":focus")){if(t=a.caret(),i=o.slice(0,t.begin)+e+o.slice(t.end),r.max&&i.length>r.max)return n._trigger(l),!1;a.val(i),a.caret(t.begin+e.length)}else{if(t=o+e,r.max&&t.length>r.max)return t=t.substring(0,r.max),n._trigger(l),!1;a.val(t)}return n._trigger(s),!0}return n._trigger(l),!1},_destroy:function(){var e=this,t=e.element;t.off(".inputFilter")}})}(jQuery),function(e){"use strict";{var t=e(document),i=e(window);e("body")}e.widget("add123.popOver",{options:{target:"",top:0,left:0,appendTo:"body"},_create:function(){var n=this,r=n.options,a=n.element;n.showing=!1,a.detach();var o=a.clone().addClass("form-input-tooltip");n.title=e('<h3 class="tooltip-title"></h3>'),a.addClass("tooltip-wrapper").css("position","absolute"),a.empty(),a.append(n.title).append(o),a.appendTo(r.appendTo),n.onClick=function(t){var i=e(t.target);n.showing&&(i.childOf(a,!0)||e(t.delegateTarget.activeElement).childOf(a,!0)||i.childOf(r.target,!0)||n._trigger("beforeoffclick",t,i)&&n.hide())},n.onResize=function(e){n.showing&&n.position()},t.on("mousedown",n.onClick),i.on("resize",n.onResize)},setAppendTo:function(e){var t=this,i=t.options,n=t.element;i.appendTo=e,n.appendTo(e)},_init:function(){var e=this,t=e.element,i=e.title,n=t.attr("title");n?i.text(n).show():i.hide()},toggle:function(){{var e=this;e.element}e.showing?e.hide():e.show()},show:function(){var e=this;e.showing||setTimeout(function(){e.showing=!0,e.position(),e.element.fadeIn(10),e._trigger("onShow")},0)},hide:function(){var e=this;e.showing&&(e.showing=!1,e.element.hide(),e._trigger("onHide"))},position:function(){var e=this,t=e.options,i=e.element,n="left+"+(t.left-3)+" top+"+(t.top+3),r="left bottom",a="flipfit none";t.my&&(n=t.my),t.at&&(r=t.at),t.collision&&(a=t.collision),setTimeout(function(){i.position({my:n,at:r,of:t.target,collision:a})},0)},_destroy:function(){{var e=this;e.element}t.off("mousedown",e.onClick),i.off("resize",e.onResize)}})}(jQuery),function(e){"use strict";e.widget("add123.submitButton",{options:{color:"#000",delay:10,disabled:!1,waiting:!1,preventDefault:!0,enterKeyListenerProvider:function(){return this.parents("form").first()},onKeyDown:function(t){13!==t.keyCode||e(t.target).is("textarea")||this.submit.call(this,t)}},_showLoading:function(){var e=this,t=e.element,i=e.options,n=(t.width(),t.height());t.addClass("submitting"),e.getButtonLabel().css("visibility","hidden"),e.spinner.appendTo(t).spin({color:i.color,top:-n+4,left:-7})},getButtonLabel:function(){return this.element.find(".ui-button-text")},_hideLoading:function(){var e=this,t=e.element;e.destroyed||(t.removeClass("submitting"),e.spinner.spin("stop"),e.getButtonLabel().css("visibility","visible"))},_create:function(){var t=this,i=t.options,n=t.element,r={};i.icons&&(r.icons=i.icons),i.disabled&&(r.disabled=i.disabled),void 0!==i.text&&(r.text=i.text),i.label=n.html(),n.button(r).on("click.submitButton",e.proxy(t.submit,t)),t.spinner=e('<div class="spinner" style="display: inline-block; position: absolute;"></div>'),n.append(this.spinner);var a=i.enterKeyListenerProvider;if(e.isFunction(a)){var o=a.call(n);"undefined"!=typeof o&&o.on("keydown.submitButton",e.proxy(i.onKeyDown,t))}},submit:function(e){var t=this,i=t.options;return i.preventDefault&&e&&e.preventDefault(),i.waiting===!0||i.disabled===!0?this:(e||(e=null),t._trigger("beforesubmit",e)===!1?this:(i.waiting=!0,t._showLoading.call(t),setTimeout(function(){t._trigger("submit",e,function(){i.waiting=!1,t._hideLoading.call(t),t._trigger("aftersubmit",e)})},i.delay),this))},enable:function(){this.options.disabled=!1},disable:function(){this.options.disabled=!0},_destroy:function(){var e=this,t=e.element;t.off(".submitButton"),e.destroyed=!0}})}(jQuery),function(e){"use strict";var t=function(e,t){var i,n;if(!t.length)return-1;var r=t.length-1,a=0;for(e=e.toLowerCase();r>=a;)if(i=parseInt((a+r)/2,10),n=t[i].value.toLowerCase(),n>e)r=i-1;else{if(!(e>n))return i;a=i+1}return-1},i=function(t){return function(i,n){if(i.term.length<3)return void n();var r=new RegExp(e.ui.autocomplete.escapeRegex(i.term),"i"),a=e.grep(t,function(e){return r.test(e.label)||r.test(e.value)});n(a)}};e.add123.inputField.types.code={setUp:function(e){var t=e.element,n=e.options,r=t.data("codes");if(!r)throw new Error("not data-codes attribute given for input "+t.attr("name"));if(n._codeTable=window[r],!n._codeTable)throw new Error("ERROR: data-codes points to an undefined window property window["+r+"] for input [name="+t.attr("name")+"]");t.autocomplete({source:i(n._codeTable)}).on("autocompleteselect.type-code",function(e,t){}).on("keyup.type-code",function(e){})},tearDown:function(e){var t=e.options,i=e.element;i.html("").off(".type-code").autocomplete("destroy"),delete t.codeTable},validate:function(e){var i=e.element;return t(i.val(),e.options._codeTable)<0?{message:"invalid"}:void 0}}}(jQuery),function(e){"use strict";var t=e(document);e.add123.inputField.types.select={setUp:function(t){var i=this,n=(t.options,t.element);i.element=n,i.source=[],i.inputWidget=t;var r=i.fieldGroup=t.field.parents(".input-field-group");n.is("select")&&console.log("** ERROR: deprecated use of <select> in the select type **"),n.css("opacity",0);i.shim=e('<div class="shim" style="width:100%;height:100%;position:absolute;top:0;left:0;"><div style="padding:0 25px 0 6px;overflow:hidden;"><div style="overflow:hidden;"></div></div></div>').insertAfter(n);t.field.addClass("select-box"),i.iconClosed=e('<span class="tms-icon tms-icon-sort-down dropdown-closed-icon"></span>').insertAfter(n),i.iconOpen=e('<span class="tms-icon tms-icon-sort-up dropdown-open-icon"></span>').insertAfter(n).hide();var a=i.panel=e('<div class="dropdown-panel"><div class="tms-select-dropdown-content"><div class="search"/><div class="options" style="position:relative;"/></div></div>').hide();i.options=a.find(".options"),t.layers.items.append(a).css("position","relative");var o=i.sectionClass="selected";a.on("click",".option",function(){i._setSelected()}).on("mouseenter",".option",function(){a.find("."+o).removeClass(o),e(this).addClass(o)}).on("mouseleave",".option",function(){e(this).removeClass(o)}),t.layers.items.on("click",function(n){if(!t.states.disable){var r=e(n.target);r.childOf(a,!0)||setTimeout(function(){i.toggle()},0)}});var s=i.filter=e('<input type="text" class="filter-box" style="width:100%;position:relative;" />').appendTo(a.find(".search")).inputField();s.after('<span class="tms-icon tms-icon-search" style="position:absolute;right: 7px;top: 1px; font-size: 15px; cursor: default;"></span>'),s.parents(".field-item").first().addClass("first"),s.parent().css("display","block").parent().css("display","block").parent().css("display","block"),s.on("click",function(e){e.preventDefault(),e.stopPropagation()}),n.on("keydown",e.proxy(i._keyDownNavigate,i)),s.on("keydown",e.proxy(i._keyDownNavigate,i)),s.on("keyup",e.proxy(i._onKeyup,i)),s.on("dirty clean",function(e){e.preventDefault(),e.stopPropagation()}),i.closeListener=function(t){var n=t.which;if(27===n||13===n)return t.preventDefault(),t.stopPropagation(),13===n?i._setSelected():i.element.focus(),void setTimeout(function(){i.close()},0);var o=e(t.target);o.childOf(a,!0)||o.childOf(r,!0)||setTimeout(function(){i.close()},0)},i.update()},_keyDownNavigate:function(e){var t=this,i=t.panel,n=t.sectionClass,r=e.which;if(9===r)return void t.element.next("input").focus();if(27===r||13===r)return void e.preventDefault();var a,o;40===r&&(a=i.find("."+n),a.length?(o=a.next(),o.length&&(o.addClass(n),a.removeClass(n))):i.find(".option:first").addClass(n),t._scroll()),38===r&&(a=i.find("."+n),a.length?(o=a.prev(),o.length&&(o.addClass(n),a.removeClass(n))):i.find(".option:last").addClass(n),t._scroll()),32>r||r>126||t.open()},_onKeyup:function(e){var t=this,i=t.filter,n=(e.which,i.val());t.filterValue!==n&&(t.filterValue=n,t._filterOptions())},_setSelected:function(){var e=this,t=e.element,i=e.panel.find(".selected:not(.filtered):visible");i.length||e._selectFirstNonEmptyOption(),i=e.panel.find(".selected:not(.filtered):visible");var n=e.item=i.data("item");n&&(e._setLabel(e.renderLabel(n)),e.close(),t.val(e.item.value),t.focus(),t.change(),e.inputWidget.redraw(),e.showHideCommand())},_selectFirstNonEmptyOption:function(){var t=this;t._removeSelection(),t.panel.find(".option:not(.filtered):visible").each(function(){var t=e(this);return t.html()?(t.addClass("selected"),!1):void 0})},_set:function(t){var i=this;i.filter.val(""),i.filterValue="",i.item=void 0,i.loaded.done(function(){i._removeSelection();var n=i.panel.find(".option");n.each(function(){var n=e(this),r=n.data("item");return i._equal(r,t)?(n.addClass("selected"),i.item=r,i._setLabel(r.label),i.showHideCommand(),!1):void 0}),i.item&&i.item.value||i.inputWidget._trigger("itemnotfound",null,[t])&&i._handleItemNotFound()})},_removeSelection:function(){this.panel.find(".option.selected").removeClass("selected")},_handleItemNotFound:function(){{var e=this;e.element}e._setDefaultItem(),e.item&&e.item.value||e._selectFirstItem()},_setDefaultItem:function(){var t=this,i=t.element,n=t.panel.find(".option"),r={value:i.attr("data-default")};n.each(function(){var n=e(this),a=n.data("item");return t._equal(a,r)?("params.category"===i.attr("name")&&console.log("found defaultValue",r,a),n.addClass("selected"),t.item=a,t._setLabel(a.label),t.showHideCommand(),!1):void 0})},_selectFirstItem:function(){var e=this,t=(e.element,e.panel.find(".option"));e.item=t.first().addClass("selected").data("item"),e._setLabel(e.item&&e.item.label?e.item.label:""),e.showHideCommand()},showHideCommand:function(){var e=this,t=e.item&&e.item.showClass,i=e.showHideSections;i&&(i.hide(),t&&i.filter("."+t).show())},clear:function(){var e=this,t=e.element;e.item={},e.panel.find(".selected").removeClass("selected"),t.val(""),e.filter.val(""),e.filterValue="",e._handleItemNotFound(),e.inputWidget.redraw()},_equal:function(e,t){return e&&t&&e.value===t.value},_setLabel:function(e){this.shim.children().children().text(e)},_getLabel:function(){return this.shim.children().children().text()},toggle:function(){var e=this;e.panel.is(":visible")?e.close():e.open()},getOptions:function(){var t=this,i=t.panel.find(".option"),n=[];return i.each(function(){n.push(e(this).data("item"))}),n},_filterOptions:function(){var e=this;e._removeSelection(),e.panel.addClass("filtering"),e.filterTimer&&clearTimeout(e.filterTimer),e.filterTimer=setTimeout(function(){e.__filterOptionsWork()},200)},__filterOptionsWork:function(t){var i=this,n=i.filterValue;if(i.panel.addClass("filtering"),t||(t=i.panel.find(".option")),!t.length)return i.panel.removeClass("filtering"),void i.inputWidget._trigger("filterdone");var r=t.splice(0,1e3);e.each(r,function(t,r){i._filterItem(e(r),n)}),setTimeout(function(){i.__filterOptionsWork(t)},0)},_filterItem:function(e,t){var i=this,n=e.data("item");i._itemShoudBeFiltered(n,t)?e.addClass("filtered"):e.removeClass("filtered")},_itemShoudBeFiltered:function(t,i){return i?t.label?null===t.label.match(new RegExp(e.ui.autocomplete.escapeRegex(i),"i")):!0:!1},_clearFilter:function(){
var e=this;e.filter.val(""),e.panel.find(".option.filtered").removeClass("filtered")},_buildEmptyOption:function(){var e=this,t=e.element,i=t.data("emptyLabel");(""===i||i)&&e.source.unshift({label:i,value:""})},_buildOptions:function(){var t=this,i=t.element,n=(t.panel,t.options);t.element.trigger("tmsselectbeforebuild"),n.empty();var r=e("<div/>");i.data("noSort")||t._sort(t.source),t._buildEmptyOption(),e.each(t.source,function(i,n){var a=e('<div class="option"/>'),o=t.renderItem(n);null!==o&&(a.append(o).data("item",n),r.append(a)),""===o&&a.height(20)}),n.append(r),t.element.trigger("tmsselectafterbuild",[n])},_sort:function(e){e.sort(function(e,t){if(e&&t){var i=e.label.toLowerCase(),n=t.label.toLowerCase();return i>n?1:n>i?-1:e.label>t.label?1:e.label<t.label?-1:0}})},_scroll:function(){var e=this,t=e.options;e.panel.is(":visible")&&setTimeout(function(){var i=e.panel.find(".selected");t.scrollTop(0===i.length?0:i.position().top-i.before().outerHeight())},0)},open:function(){var e=this,i=e.element,n=e.panel,r=e.inputWidget.layers.input,a=e.inputWidget.layers.items;if(!n.is(":visible")){e.filterValue="",t.on("click keyup",e.closeListener);var o=0;r.index()&&(o=r.position().left-1),n.width(i.width()).css({left:o,top:a.height()-1+"px",width:i.outerWidth()+"px"}).hide(),e.iconClosed.hide(),e.iconOpen.show(),n.show(),e.filter.focus(),e._scroll()}},renderLabel:function(e){return e&&e.label||""},renderItem:function(e){return e.label},close:function(){{var e=this,i=e.panel;e.filter}t.off("click keyup",e.closeListener),i.hide(),e._clearFilter(),e.iconClosed.show(),e.iconOpen.hide()},update:function(){var t=this,i=t.element;return t.loaded=e.Deferred(),t.load().done(function(n){n||(n=[]),t.source=n,setTimeout(function(){t.removeInvalid()},0),t._buildOptions(),t.filter&&t.filter.data("inputField")&&t.filter.inputField(n.length<5?"hide":"show");var r,a=e([]);e.each(n,function(e,t){t.showClass&&(r||(r=i.parents(":add123-formBuilder").first()),a=a.add(r.find("."+t.showClass)))}),t.showHideSections=a,t.loaded.resolve(),t.showHideCommand()}),t.loaded},removeInvalid:function(e,t){var i,n=this,r=n.element,a=r.val(),o=n.source,s=o.length;if(!t||!t.item){for(i=0;s>i;i++)if(o[i].label===a&&n.item&&n.item.value===o[i].value)return void(n.item=o[i]);r.val("")}},load:function(){var t=this,i=t.element,n=[],r=i.attr("data-options");return r?n=e.parseJSON(r):i.find("option").each(function(){var t=e(this);n.push({label:t.text(),value:t.val()})}),e.when(n)},map:function(e){return{label:e,value:e}},deMap:function(e){return e?e.value||null:null},isEmpty:function(){var e=this,t=e.deMap(e.item);return 0!==t&&!t},converter:{fromField:function(){var e=this,t=e.item;if(void 0===t)return null;var i=e.deMap(t);return void 0===i?null:i},toField:function(e){var t=this,i=t.element,n=t.map(e);return e||"undefined"==typeof i.data("default")||(n=t.map(i.data("default"))),n?(t._set(n),t.item?t.item.label:void t.clear()):void t.clear()}}}}(jQuery),function(e){"use strict";var t=(e(document),e.add123.inputField.types);t.text={};var i={trim:function(t){var i=t.element;i.val(e.trim(i.val()))}},n=function(t,n,r,a){void 0===r&&(r={}),r.toUpper!==!1&&(r.toUpper=!0);var o={validate:function(e){return e.element.val().match(t)?void 0:{message:"invalid"}}};return(n||a)&&(o.setUp=function(e){var t={pattern:n||/./,toUpper:r.toUpper,max:a||0};e.element.attr("data-max")&&(t.max=e.element.attr("data-max")),e.element.inputFilter(t)}),void 0!==r.cannedFormatter&&e.isFunction(i[r.cannedFormatter])&&(o.format=i[r.cannedFormatter],o.converter={toField:function(e,t){return o.format(t)},fromField:function(e,t){return o.format(t)}}),o};e.add123.inputField.createRegexType=n,e.extend(t,{utext:n(/.*/,/.*/,{toUpper:!0}),integer:n(/^[0-9]*$/,/[0-9]/),number:n(/^-?[0-9]+\.?[0-9]*$/,/[-0-9.]/),state:n(/^[A-Z]{2}$/,/[A-Z]/,{},2),feid:n(/^[0-9]{2}\-?[0-9]{7}$/,/[0-9\-]/,{},10),zip:n(/(^\d{5}(\-?\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} ?\d{1}[A-Za]{1}\d{1})$/,/[0-9A-Z\s\-]/,{},10),email:n(/^(?!.*\.{2})[A-Za-z0-9._%+\-]+@[A-Za-z0-9.\-]+\.[A-Za-z]{2,4}$/,/[A-Za-z0-9._%+\-@]/,{toUpper:!1,cannedFormatter:"trim"})}),t.display={setUp:function(e){var t=e.element;t.parents(".field-item").hide(),t.parents(".field-items").append('<div class="input-display"></div>')},converter:{toField:function(e,t){t.element.parents(".field-items").find(".input-display").html(e)},fromField:function(e,t){return t.element.parents(".field-items").find(".input-display").html().trim()}}},t.phone={setUp:function(e){var t=this,i=e.element;i.inputFilter({pattern:/[0-9()\s\-x]/}),i.on("blur",function(){i.val(t.format(i.val()))})},converter:{toField:function(e,t){return this.format(e)},fromField:function(e,t){return this.format(e)}},format:function(t){if(!t)return"";var i=0,n=t.indexOf("x"),r=t.lastIndexOf(" "),a="",o="";n>0?i=n:r>7&&(i=r),i>0&&(a=t.substring(i+1),t=t.substring(0,i));var s=e.trim(t.replace(/[()\s\-]/g,"")),l=s.length;return"1"===s[0]&&(s=s.substring(1),l--),l>10&&(o=s.substring(10),s=s.substring(0,10),l=10),7===l?s=s.substring(0,3)+"-"+s.substring(3):10===l&&(s=s.substring(0,3)+"-"+s.substring(3,6)+"-"+s.substring(6)),a=o+a,s=s.replace(/[^0-9^x^-]/g,""),a=a.replace(/[^0-9^x^-]/g,""),a&&(s+="x"+a),s},validate:function(e){return e.element.val().match(/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/)?void 0:{message:"invalid"}}},t.money={attributes:["currency-symbol","show-symbol"],setUp:function(e){var t=this,i=e.element;t.element=i,t.currency=i.data("currency-symbol"),t.showSymbol=i.data("show-symbol"),i.inputFilter({pattern:/[0-9\.]/}).change(function(){t._onChange()}).blur(function(){i.val(t.format(i.val()))}),(void 0===t.showSymbol||t.showSymbol)&&(t.currency?e.addOn(-100,t.currency):e.addOn(-100,"$"))},_onChange:function(){var e=this,t=e.element,i=t.caret();t.val(e.format(t.val())).caret(i.begin,i.end)},format:function(t){if(""===e.trim(t))return"";try{if(isNaN(t)){t=t.toString();for(var i=0,n=0;n<t.length;n++)"."===t[n]&&i++;var r=t.indexOf(".");-1!==r&&(t=t.replace(/\./g,""),t=t.substring(0,r)+"."+t.substring(r)),t=parseFloat(t)}return(+t).toFixed(2)}catch(a){return""}},converter:{toField:function(e,t){return this.format(e)},fromField:function(t,i){return""===e.trim(t)?"":+this.format(t)}}}}(jQuery),function(e){"use strict";var t=e.add123.inputField.types;t.date={attributes:["minyear","maxyear","startdate","enddate"],setUp:function(e){var t,i=e.element;e.placeholder("MM/DD/YYYY");var n=(new Date).getFullYear()-15,r=(new Date).getFullYear()+2;t=i.data("minyear"),void 0!==t&&(n="CURRENT"===t?(new Date).getFullYear():t),t=i.data("maxyear"),void 0!==t&&(r="CURRENT"===t?(new Date).getFullYear():t);var a="1/1/"+n,o="12/31/"+r;t=i.data("startdate"),void 0!==t&&("TODAY"===t?a=moment().format("MM/DD/YYYY"):t.match(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)&&(a=t)),t=i.data("enddate"),void 0!==t&&("TODAY"===t?o=moment().format("MM/DD/YYYY"):t.match(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)&&(o=t));var s={startDate:a,endDate:o,autoclose:!0,forceParse:!1,format:"mm/dd/yyyy",todayBtn:!0,todayHighlight:!0,language:util.lang.code};i.datepicker(s),i.inputFilter({pattern:/[0-9\/]/,max:10,toUpper:!0})},converter:{toField:function(e,t){return e&&e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)?e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4):""},fromField:function(e,t){return e&&e.match(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)?e.substring(6,10)+"-"+e.substring(0,2)+"-"+e.substring(3,5):""}},tearDown:function(e){e.element.datepicker("remove")},validate:function(e){var t=e.element.val();return moment(t,["MM/DD/YYYY"],!0).isValid()?void 0:{message:"invalid"}}},t.time={attributes:["step","military"],_regex:/^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,_regex2400:/^(([01]?[0-9])|(2[0-3])):[0-5][0-9]$/,setUp:function(e){var t=this,i=e.element;t.military=!!i.data("military"),t.step=i.data("step"),t.military?(e.placeholder("HH:MM"),i.inputFilter({pattern:/[0-9:]/,max:5})):(e.placeholder("H:MMam/pm"),i.inputFilter({pattern:/[0-9:apm]/,max:7})),i.timepicker({appendTo:i.parent(),selectOnBlur:!1,step:t.step,timeFormat:t.military?"H:i":"g:ia"}),i.on("showTimepicker",function(){i.siblings(".ui-timepicker-wrapper").width(i.outerWidth())})},getLocalMoment:function(e){var t=this;return t.military?e&&e.match(t._regex2400)?moment(e,"h:mm"):"":e&&e.match(t._regex)?moment(e,"h:mma"):""},converter:{toField:function(e,t){var i,n=this;return e&&e.match(/^[0-9]{2}:[0-9]{2}$/)?(i=moment.utc(e,"HH:mm",!0).local(),i.isValid()?i.format(n.military?"H:mm":"h:mma"):""):""},fromField:function(e,t){var i=this,n=i.getLocalMoment(e);return""===n?n:n.utc().format("HH:mm")}},tearDown:function(e){e.element.timepicker("remove")},validate:function(e){var t,i=this,n=e.element,r=n.val(),a={message:"invalid"};return t=r.match(i.military?i._regex2400:i._regex),t?void 0:a}},t.dateTime={setUp:function(e){var t=this;t.ifw=e,t._setUpFields(),t._refreshFieldWidth(),t._setUpCleanDirtyEvents(),t.ifw.element.on("resize",function(e){t._refreshFieldWidth()})},_setUpFields:function(){var i,n,r,a=this,o=a.ifw.element,s=a.ifw.element.parent().parent(),l="",d="";for(a.ifw.element.parent().hide(),r=0;r<t.date.attributes.length;++r)n=o.data(t.date.attributes[r]),void 0!==n&&(l+="data-"+t.date.attributes[r]+'="'+n+'" ');for(r=0;r<t.time.attributes.length;++r)n=o.data(t.time.attributes[r]),void 0!==n&&(d+="data-"+t.time.attributes[r]+'="'+n+'" ');i={require:!0},a.dateWidget=e('<input type="text" data-type="date" '+l+"/>").prependTo(s).inputField(i),a.timeWidget=e('<input type="text" data-type="time" '+d+"/>").appendTo(s).inputField(i)},_refreshFieldWidth:function(){var e,t,i=this,n=i.ifw.element.outerWidth(),r=i.dateWidget,a=i.timeWidget;n-=r.outerWidth()-r.width(),n-=a.outerWidth()-a.width(),t=i.ifw.element.css("min-width"),null!==t&&(t=parseInt(t,10)),(null===t||100>t)&&(t=270),t>n&&(n=t),e=i.ifw.element.data("timeWidthRatio"),(isNaN(e)||.2>e||e>.8)&&(e=.5),a.width(n*e),r.width(n-a.width())},_setUpCleanDirtyEvents:function(){var e=this;e.dateWidget.on("dirty clean",function(t){t.stopPropagation(),e.ifw.checkDirty()}),e.timeWidget.on("dirty clean",function(t){t.stopPropagation(),e.ifw.checkDirty()})},converter:{toField:function(e,t){var i=this,n=i._splitDateAndTime(e);i.timeWidget.inputField("set",n.time),i.dateWidget.inputField("set",n.date),setTimeout(function(){i.timeWidget.inputField("redraw"),i.dateWidget.inputField("redraw")},0)},fromField:function(e,t){var i,n=this,r=n.timeWidget.inputField("getType"),a=moment(n.dateWidget.inputField("get"),"YYYY-MM-DD"),o=r.getLocalMoment.call(r,n.timeWidget.val());return a.isValid()&&""!==o?(i=n._joinDateAndTimeMoments(a,o),i.format("YYYY-MM-DDTHH:mm:ss[Z]")):""}},_splitDateAndTime:function(e){var t=moment.utc(e,"YYYY-MM-DDTHH:mm:ss[Z]");return t.isValid()?{time:t.format("HH:mm"),date:t.local().format("YYYY-MM-DD")}:{date:"",time:""}},_joinDateAndTimeMoments:function(e,t){var i=moment().second(t.second()).minute(t.minute()).hour(t.hour()).date(e.date()).month(e.month()).year(e.year());return i.utc()},validate:function(e){var t=this,i=!0,n=!t.ifw.hasStatus("require");return n&&(n=!t.dateWidget.inputField("isEmpty"),n=n&&!t.timeWidget.inputField("isEmpty")),i=i&&t.dateWidget.inputField("validate",n),i=i&&t.timeWidget.inputField("validate",n),i?void 0:{message:"invalid"}},isEmpty:function(){var t=this;return e.trim(t.dateWidget.val())+e.trim(t.timeWidget.val())===""},tearDown:function(e){var t=this;t.dateWidget.remove(),t.timeWidget.remove(),t.dateWidget=void 0,t.timeWidget=void 0,e.parent().show()}}}(jQuery);
//# sourceMappingURL=jquery.formBuilder.min.js.map